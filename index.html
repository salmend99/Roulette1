<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Roulette Tracker</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #111;
      color: white;
      padding: 20px;
    }

    .container {
      max-width: 700px;
      margin: auto;
    }

    .input-group {
      margin-bottom: 20px;
    }

    input[type="number"] {
      padding: 8px;
      width: 150px;
      font-size: 16px;
    }

    button {
      padding: 8px 12px;
      margin-left: 10px;
      font-size: 16px;
      cursor: pointer;
    }

    .section {
      margin-bottom: 20px;
    }

    .red {
      color: red;
    }

    .black {
      color: black;
      background: white;
      padding: 2px 6px;
      border-radius: 4px;
    }

    .green {
      color: lime;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Roulette Tracker</h1>
    <div class="input-group">
      <input type="number" id="spinInput" placeholder="Enter number (0â€“36)" min="0" max="36" />
      <button onclick="addSpin()">Add Spin</button>
    </div>

    <div class="section">
      <h2>Last 30 Spins</h2>
      <p id="spinList">No spins yet.</p>
    </div>

    <div class="section">
      <h2>Unhit Numbers</h2>
      <p id="unhitNumbers">None yet.</p>
    </div>

    <div class="section">
      <h2>Column Hits</h2>
      <p id="columnHits"></p>
    </div>

    <div class="section">
      <h2>Row Hits</h2>
      <p id="rowHits"></p>
    </div>

    <div class="section">
      <h2>Streak Info</h2>
      <p id="streakInfo"></p>
    </div>

    <div class="section">
      <h2>Betting Advice</h2>
      <p id="bettingAdvice"></p>
    </div>
  </div>

  <script>
    const spins = [];

    const redNumbers = [1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36];
    const blackNumbers = [2,4,6,8,10,11,13,15,17,20,22,24,26,28,29,31,33,35];

    const columns = {
      col1: [1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34],
      col2: [2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35],
      col3: [3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36]
    };

    const rows = {
      row1: Array.from({ length: 12 }, (_, i) => i + 1),
      row2: Array.from({ length: 12 }, (_, i) => i + 13),
      row3: Array.from({ length: 12 }, (_, i) => i + 25)
    };

    function addSpin() {
      const input = document.getElementById("spinInput");
      const num = parseInt(input.value);
      if (!isNaN(num) && num >= 0 && num <= 36) {
        spins.unshift(num);
        if (spins.length > 30) spins.pop();
        updateDisplay();
        input.value = "";
      }
    }

    function updateDisplay() {
      const spinList = document.getElementById("spinList");
      spinList.innerHTML = spins.map(n => {
        const color = getColor(n);
        return `<span class="${color}">${n}</span>`;
      }).join(", ");

      document.getElementById("unhitNumbers").textContent = getUnhitNumbers().join(", ") || "All numbers hit.";
      document.getElementById("columnHits").textContent = JSON.stringify(countHits(columns));
      document.getElementById("rowHits").textContent = JSON.stringify(countHits(rows));
      document.getElementById("streakInfo").textContent = JSON.stringify(getStreaks());
      document.getElementById("bettingAdvice").textContent = generateBettingAdvice();
    }

    function getColor(num) {
      if (redNumbers.includes(num)) return "red";
      if (blackNumbers.includes(num)) return "black";
      return "green";
    }

    function getUnhitNumbers() {
      const all = Array.from({ length: 37 }, (_, i) => i);
      return all.filter(n => !spins.includes(n));
    }

    function countHits(group) {
      const result = {};
      for (const [key, nums] of Object.entries(group)) {
        result[key] = spins.filter(n => nums.includes(n)).length;
      }
      return result;
    }

    function getColumn(num) {
      for (const [col, nums] of Object.entries(columns)) {
        if (nums.includes(num)) return col;
      }
      return null;
    }

    function getRow(num) {
      for (const [row, nums] of Object.entries(rows)) {
        if (nums.includes(num)) return row;
      }
      return null;
    }

    function getStreak(arr) {
      let val = arr[0];
      let streak = 1;
      for (let i = 1; i < arr.length; i++) {
        if (arr[i] === val) {
          streak++;
        } else {
          break;
        }
      }
      return { value: val, streak };
    }

    function getStreaks() {
      return {
        color: getStreak(spins.map(getColor)),
        column: getStreak(spins.map(getColumn)),
        row: getStreak(spins.map(getRow))
      };
    }

    function generateBettingAdvice() {
      const streaks = getStreaks();
      if (streaks.color.streak >= 3) {
        return `Color "${streaks.color.value}" has hit ${streaks.color.streak} times. Consider betting opposite.`;
      } else if (streaks.column.streak >= 3) {
        return `Column "${streaks.column.value}" has hit ${streaks.column.streak} times. Consider betting opposite column.`;
      } else if (streaks.row.streak >= 3) {
        return `Row "${streaks.row.value}" has hit ${streaks.row.streak} times. Consider betting opposite row.`;
      }
      return "No clear pattern detected. Play safe.";
    }
  </script>
</body>
</html>
